# Create a standalone index.html that runs the FacilityFuz app in any browser (Chrome) with no build step.
# Uses React + ReactDOM UMD and Babel for in-browser JSX transform.
# Saves to /mnt/data/facilityfuz_index.html

html = r"""<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FacilityFuz — RBAC Demo</title>
    <meta name="description" content="FacilityFuz — Facility Ops with role-based portals (Tenant, Lobby, Engineer, PM)" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- React + ReactDOM (UMD) -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <!-- Babel for JSX (dev/demo only) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useEffect, useMemo, useState } = React;

      // ===== Brand (FacilityFuz) =====
      const brand = {
        name: "FacilityFuz",
        primary: "#0E2A47", // deep navy
        accent: "#23C15C",  // vibrant green
        light: "#F3F7FB",
      };

      // ===== Tiny UI primitives (no dependencies) =====
      function FFLogo({ withWordmark = true, size = 28 }){
        return (
          <div className="ff-row" style={{alignItems:'center', gap:8}}>
            <svg width={size} height={size} viewBox="0 0 64 64" aria-label="FacilityFuz logo">
              <rect rx="12" width="64" height="64" fill={brand.light} />
              {[[8,8],[28,8],[48,8],[8,28],[28,28],[48,28],[8,48],[28,48],[48,48]].map(([x,y],i)=> (
                <rect key={i} x={x} y={y} width="12" height="12" rx="3" fill={i===0?brand.primary:brand.accent} />
              ))}
            </svg>
            {withWordmark && (
              <span style={{fontWeight:700, color: brand.primary}}>Facility<span style={{color: brand.accent}}>Fuz</span></span>
            )}
          </div>
        );
      }
      function Card({ children, className }){
        return <div className={\`ff-card \${className||''}\`}>{children}</div>;
      }
      function SectionTitle({ children }){ return <h3 className="ff-h3">{children}</h3>; }
      function Button({ children, onClick, type="button", variant="default", small }){
        const style = variant === 'outline' ? 'ff-btn ff-btn-outline' : 'ff-btn ff-btn-primary';
        const sz = small ? ' ff-btn-sm' : '';
        return <button type={type} onClick={onClick} className={style+sz}>{children}</button>;
      }
      function Input(props){ return <input {...props} className={"ff-input "+(props.className||'')} />; }
      function Select({ children, ...rest }){ return <select {...rest} className="ff-input" style={{appearance:'menulist'}}>{children}</select>; }
      function Textarea(props){ return <textarea {...props} className={"ff-input "+(props.className||'')} />; }
      function Badge({ children }){ return <span className="ff-badge">{children}</span>; }
      function Table({ headers, rows, empty }){
        return (
          <div className="ff-table-wrap">
            <table className="ff-table">
              <thead><tr>{headers.map((h,i)=>(<th key={i}>{h}</th>))}</tr></thead>
              <tbody>
                {rows.length === 0 ? (
                  <tr><td colSpan={headers.length} className="ff-empty">{empty||'No data'}</td></tr>
                ) : rows}
              </tbody>
            </table>
          </div>
        );
      }

      // ---------- Helpers ----------
      const CATEGORIES = ["HVAC", "Electrical", "Janitorial", "IT", "Other"];
      const PRIORITIES = ["Low", "Normal", "High", "Emergency"];
      const ROLE_OPTIONS = [
        { key: "tenant", label: "Tenant" },
        { key: "lobby", label: "Lobby / Reception (Vendor)" },
        { key: "engineer", label: "Engineer / Maintenance" },
        { key: "pm", label: "Property Manager" },
      ];
      function uid(prefix = "id") { return \`\${prefix}_\${Math.random().toString(36).slice(2, 9)}\`; }
      function overlaps(aStart, aEnd, bStart, bEnd) { return aStart < bEnd && bStart < aEnd; }

      // ---------- Root App ----------
      function FacilityFuzApp() {
        const [page, setPage] = useState("home"); // "home" | "about" | "services" | "contact" | "portal"
        const [user, setUser] = useState(null);

        // Inject page CSS once
        useEffect(() => {
          const style = document.createElement('style'); style.id = 'ff-styles'; style.innerHTML = css;
          document.head.appendChild(style);
          return ()=>{ try{document.getElementById('ff-styles')?.remove();}catch{}};
        }, []);

        // Persist session (demo)
        useEffect(() => { try{ const raw = localStorage.getItem("facilityfuz_user"); if (raw) setUser(JSON.parse(raw)); }catch{} }, []);
        useEffect(() => { try{ if (user) localStorage.setItem("facilityfuz_user", JSON.stringify(user)); else localStorage.removeItem("facilityfuz_user"); }catch{} }, [user]);

        // Shared demo data
        const [workOrders, setWorkOrders] = useState([]);
        const [resources] = useState([
          { id: "res_roof", name: "Rooftop", type: "Space" },
          { id: "res_freight", name: "Freight Elevator", type: "Equipment" },
          { id: "res_dock", name: "Loading Dock", type: "Space" },
          { id: "res_confA", name: "Conference A", type: "Room" },
        ]);
        const [reservations, setReservations] = useState([]);
        const [expectedVisitors, setExpectedVisitors] = useState([]);
        const [checkedIn, setCheckedIn] = useState([]);
        const [notices] = useState([
          { id: uid("NTC"), title: "Planned System Update", body: "Tonight 8–9 PM. No impact to visitor check‑in." },
        ]);

        const todaysBookings = useMemo(() => {
          const now = new Date(); const start = new Date(now); start.setHours(0,0,0,0); const end = new Date(now); end.setHours(23,59,59,999);
          return reservations.filter(r => new Date(r.startAt) >= start && new Date(r.startAt) <= end);
        }, [reservations]);

        // Auth routing
        useEffect(() => { if (user) setPage("portal"); }, [user]);

        // --- Lightweight tests (run once) ---
        useEffect(() => {
          const tests = [];
          const t = (name, cond) => tests.push({ name, pass: !!cond });
          const a1 = new Date("2024-01-01T10:00:00");
          const a2 = new Date("2024-01-01T11:00:00");
          const b1 = new Date("2024-01-01T10:30:00");
          const b2 = new Date("2024-01-01T11:30:00");
          t("overlaps detects true", overlaps(a1,a2,b1,b2) === true);
          t("overlaps detects false (back-to-back)", overlaps(a1,a2,new Date("2024-01-01T11:00:00"), new Date("2024-01-01T12:00:00")) === false);
          const id = uid("TEST"); t("uid format", /^TEST_[a-z0-9]{7}$/i.test(id));
          // reservation conflict tester
          const rr = [{id:'R1', resourceId:'A', startAt:'2024-01-01T10:00:00Z', endAt:'2024-01-01T11:00:00Z'}];
          const startAt = new Date('2024-01-01T10:30:00Z'), endAt = new Date('2024-01-01T10:45:00Z');
          const conflict = rr.find(r=> r.resourceId==='A' && overlaps(startAt,endAt,new Date(r.startAt),new Date(r.endAt)) );
          t("conflict detection works", !!conflict === true);
          // uid quick uniqueness check
          const ids = new Set(Array.from({length: 100}, ()=> uid('U')));
          t("uid uniqueness (100)", ids.size === 100);
          try { console.table(tests); } catch {}
        }, []);

        return (
          <div className="ff-root">
            <header className="ff-nav">
              <div className="ff-nav-inner">
                <button className="ff-brand" onClick={()=>setPage('home')} aria-label="Go home"><FFLogo /></button>
                <nav className="ff-nav-links">
                  <button className="ff-link" onClick={()=>setPage('about')}>About</button>
                  <button className="ff-link" onClick={()=>setPage('services')}>Services</button>
                  <button className="ff-link" onClick={()=>setPage('contact')}>Contact</button>
                </nav>
                {user ? (
                  <div className="ff-session">
                    <span className="ff-small">{user.firstName} • {ROLE_OPTIONS.find(r=>r.key===user.role)?.label}</span>
                    <Button variant="outline" small onClick={()=>{ setUser(null); setPage('home'); }}>Sign out</Button>
                  </div>
                ) : (
                  <div className="ff-auth-ctas">
                    <Button onClick={()=>setPage('home')}>Register</Button>
                    <Button variant="outline" onClick={()=>setPage('home')}>Sign In</Button>
                  </div>
                )}
                <button className="ff-burger" aria-label="Open menu" onClick={()=>{
                  const m = document.getElementById('ff-mobile');
                  m?.classList.toggle('open');
                }}>
                  ☰
                </button>
              </div>
              <div id="ff-mobile" className="ff-mobile-menu">
                <div className="ff-row" style={{gap:12}}>
                  <button className="ff-link" onClick={()=>{setPage('about'); document.getElementById('ff-mobile')?.classList.remove('open')}}>About</button>
                  <button className="ff-link" onClick={()=>{setPage('services'); document.getElementById('ff-mobile')?.classList.remove('open')}}>Services</button>
                  <button className="ff-link" onClick={()=>{setPage('contact'); document.getElementById('ff-mobile')?.classList.remove('open')}}>Contact</button>
                </div>
              </div>
            </header>

            <main className="ff-container">
              {page === 'home' && <HomeHero onRegister={(u)=>setUser(u)} />}
              {page === 'about' && <InformCard title="About FacilityFuz" body="FacilityFuz unifies work orders, reservations, and visitor management with strict role-based access so every team sees exactly what they need—nothing more."/>}
              {page === 'services' && <InformCard title="Platform Services" body="Work orders • Space & equipment reservations • Visitor check‑in/out • Building notices • SLA & analytics (Pro)."/>}
              {page === 'contact' && <ContactCard />}
              {page === 'portal' && user && (
                <PortalRouter
                  user={user}
                  data={{ workOrders, setWorkOrders, resources, reservations, setReservations, expectedVisitors, setExpectedVisitors, checkedIn, setCheckedIn, notices, todaysBookings }}
                />
              )}
            </main>

            <footer className="ff-footer">
              <span className="ff-row" style={{gap:8, alignItems:'center'}}><FFLogo withWordmark={false} size={20}/><span>© {new Date().getFullYear()} FacilityFuz</span></span>
              <span className="ff-small">Secure • Reliable • Simple</span>
            </footer>
          </div>
        );
      }

      // ---------- Home / Registration ----------
      function HomeHero({ onRegister }){
        const [mode, setMode] = useState('register'); // 'register' | 'signin'
        return (
          <div>
            <section className="ff-hero">
              <div className="ff-hero-inner">
                <FFLogo withWordmark size={40} />
                <h1 className="ff-h1">Facility Operations Made Simple</h1>
                <p className="ff-small" style={{color:'#e6eef6'}}>Work orders • Reservations • Visitor Check‑in — unified and role‑based.</p>
                <div className="ff-row" style={{gap:8, marginTop:12}}>
                  <Button variant="default" small onClick={()=>setMode('register')}>Register</Button>
                  <Button variant="outline" small onClick={()=>setMode('signin')}>Sign In</Button>
                </div>
              </div>
            </section>

            <div className="ff-grid ff-gap ff-grid-3">
              <Card className="ff-col-span-2">
                <SectionTitle>Get started</SectionTitle>
                <p className="ff-small">Create an account or sign in to your role‑based portal.</p>

                <div className="ff-tabs">
                  <div className="ff-tabs-list">
                    <button className={\`ff-tab \${mode==='register'?'active':''}\`} onClick={()=>setMode('register')}>Register</button>
                    <button className={\`ff-tab \${mode==='signin'?'active':''}\`} onClick={()=>setMode('signin')}>Sign in</button>
                  </div>
                </div>

                {mode==='register' ? <RegisterForm onSubmit={onRegister}/> : <SignInForm onSubmit={onRegister}/>} 
              </Card>

              <Card>
                <SectionTitle>Why FacilityFuz</SectionTitle>
                <ul className="ff-list">
                  <li>Tenants submit requests & book freight/rooftop.</li>
                  <li>Lobby checks guests in/out with codes.</li>
                  <li>Engineers see only their assigned work.</li>
                  <li>PMs approve, notify, and report on SLAs.</li>
                </ul>
              </Card>
            </div>
          </div>
        );
      }

      function RegisterForm({ onSubmit }){
        const [orgType, setOrgType] = useState('company');
        const [role, setRole] = useState('tenant');
        function handle(e){ e.preventDefault(); const data = Object.fromEntries(new FormData(e.currentTarget)); const user = { id: uid('USR'), accountType: orgType, company: data.company || '', firstName: data.firstName, lastName: data.lastName, email: data.email, role }; onSubmit(user); }
        return (
          <form className="ff-grid ff-gap" onSubmit={handle} style={{marginTop:12}}>
            <div className="ff-grid ff-gap ff-2">
              <div>
                <label className="ff-label">Account Type</label>
                <Select value={orgType} onChange={(e)=>setOrgType(e.target.value)}>
                  <option value="company">Company</option>
                  <option value="individual">Individual</option>
                </Select>
              </div>
              {orgType==='company' && (
                <div>
                  <label className="ff-label">Company</label>
                  <Input name="company" placeholder="Acme Properties" required />
                </div>
              )}
            </div>
            <div className="ff-grid ff-gap ff-2">
              <div><label className="ff-label">First Name</label><Input name="firstName" required /></div>
              <div><label className="ff-label">Last Name</label><Input name="lastName" required /></div>
            </div>
            <div><label className="ff-label">Work Email</label><Input name="email" type="email" placeholder="name@company.com" required /></div>
            <div>
              <label className="ff-label">Role</label>
              <Select value={role} onChange={(e)=>setRole(e.target.value)}>
                {ROLE_OPTIONS.map(r => (<option key={r.key} value={r.key}>{r.label}</option>))}
              </Select>
            </div>
            <div style={{textAlign:'right'}}><Button type="submit">Create account</Button></div>
          </form>
        );
      }

      function SignInForm({ onSubmit }){
        const [email, setEmail] = useState('');
        const [role, setRole] = useState('tenant');
        function handle(e){ e.preventDefault(); const user = { id: uid('USR'), firstName: email.split('@')[0] || 'User', lastName: '', email, role }; onSubmit(user); }
        return (
          <form className="ff-grid ff-gap" onSubmit={handle} style={{marginTop:12}}>
            <div><label className="ff-label">Email</label><Input value={email} onChange={(e)=>setEmail(e.target.value)} type="email" placeholder="name@company.com" required /></div>
            <div>
              <label className="ff-label">Role</label>
              <Select value={role} onChange={(e)=>setRole(e.target.value)}>
                {ROLE_OPTIONS.map(r => (<option key={r.key} value={r.key}>{r.label}</option>))}
              </Select>
            </div>
            <div style={{textAlign:'right'}}><Button type="submit">Sign in</Button></div>
          </form>
        );
      }

      // ---------- Simple Info/Contact ----------
      function InformCard({ title, body }){
        return (
          <Card>
            <h3 className="ff-h3">{title}</h3>
            <p className="ff-small">{body}</p>
          </Card>
        );
      }
      function ContactCard(){
        return (
          <Card>
            <h3 className="ff-h3">Contact Us</h3>
            <p className="ff-small">We’ll get back within one business day.</p>
            <form className="ff-grid ff-gap" style={{marginTop:8}}>
              <div className="ff-grid ff-gap ff-2"><div><label className="ff-label">Name</label><Input placeholder="Your name" /></div><div><label className="ff-label">Email</label><Input placeholder="you@example.com" type="email" /></div></div>
              <div><label className="ff-label">Message</label><Textarea rows={4} placeholder="How can we help?" /></div>
              <div style={{textAlign:'right'}}><Button type="button">Send</Button></div>
            </form>
          </Card>
        );
      }

      // ---------- Portal Router (RBAC) ----------
      function PortalRouter({ user, data }){
        switch (user.role) {
          case 'tenant': return <TenantPortal {...data} />;
          case 'lobby': return <LobbyConsole {...data} />;
          case 'engineer': return <EngineerApp {...data} />;
          case 'pm': return <PMGlance {...data} />;
          default: return <Card><h3 className="ff-h3">Unknown role</h3></Card>;
        }
      }

      // ---------- Tenant Portal ----------
      function TenantPortal({ workOrders, setWorkOrders, resources, reservations, setReservations, expectedVisitors, setExpectedVisitors, notices }){
        function submitWO(form){ const data = Object.fromEntries(new FormData(form)); const wo = { id: uid('WO'), createdAt: new Date().toISOString(), category: data.category, priority: data.priority, location: data.location, description: data.description, status: 'New' }; setWorkOrders(prev=>[wo, ...prev]); form.reset(); }
        function submitReservation(form, setError){ const data = Object.fromEntries(new FormData(form)); const startAt = new Date(\`\${data.date}T\${data.start}:00\`); const endAt = new Date(\`\${data.date}T\${data.end}:00\`); if(!data.resource || isNaN(startAt.getTime()) || isNaN(endAt.getTime()) || endAt<=startAt){ setError('Please select a resource and a valid time range.'); return; } const conflict = reservations.find(r=> r.resourceId===data.resource && overlaps(startAt,endAt,new Date(r.startAt),new Date(r.endAt))); if(conflict){ setError('That slot conflicts with an existing reservation.'); return; } const res = { id: uid('RES'), resourceId: data.resource, resourceName: resources.find(r=>r.id===data.resource)?.name||'', startAt:startAt.toISOString(), endAt:endAt.toISOString(), status: ['res_roof','res_freight','res_dock'].includes(String(data.resource))? 'Pending Approval' : 'Approved' }; setReservations(prev=>[res, ...prev]); form.reset(); setError(''); }
        return (
          <div>
            <NoticesCard notices={notices} />
            <div className="ff-grid ff-gap ff-grid-3">
              <Card className="ff-col-span-2">
                <SectionTitle>Create Work Order</SectionTitle>
                <p className="ff-small">Log an issue for engineering or building ops.</p>
                <form className="ff-grid ff-gap ff-2" onSubmit={(e)=>{e.preventDefault(); submitWO(e.currentTarget);}}>
                  <div><label className="ff-label">Category</label><Select name="category" required>{CATEGORIES.map(c=>(<option key={c} value={c}>{c}</option>))}</Select></div>
                  <div><label className="ff-label">Priority</label><Select name="priority" defaultValue="Normal" required>{PRIORITIES.map(p=>(<option key={p} value={p}>{p}</option>))}</Select></div>
                  <div className="ff-col-span-2"><label className="ff-label">Location / Suite</label><Input name="location" placeholder="Suite 1205, Conference A, etc." required/></div>
                  <div className="ff-col-span-2"><label className="ff-label">Description</label><Textarea name="description" rows={4} required placeholder="Describe the issue…"/></div>
                  <div className="ff-col-span-2" style={{textAlign:'right'}}><Button type="submit">Submit Work Order</Button></div>
                </form>

                <div style={{marginTop:12}}>
                  <h4 className="ff-h4">My Requests</h4>
                  <Table
                    headers={["ID","Category","Priority","Status","Created"]}
                    rows={workOrders.map(w=> (
                      <tr key={w.id}><td className="ff-mono">{w.id}</td><td>{w.category}</td><td><Badge>{w.priority}</Badge></td><td>{w.status}</td><td>{new Date(w.createdAt).toLocaleString()}</td></tr>
                    ))}
                    empty="No work orders yet."
                  />
                </div>
              </Card>

              <Card>
                <SectionTitle>Reserve Space / Equipment</SectionTitle>
                <ReserveForm resources={resources} onSubmit={(form, setError)=>submitReservation(form,setError)} />
                <div style={{marginTop:12}}>
                  <h4 className="ff-h4">Upcoming Reservations</h4>
                  <ul className="ff-list">
                    {reservations.slice(0,6).map(r=> (
                      <li key={r.id} className="ff-row ff-between ff-item">
                        <div>
                          <div className="ff-strong">{r.resourceName}</div>
                          <div className="ff-small ff-muted">{new Date(r.startAt).toLocaleString()} – {new Date(r.endAt).toLocaleTimeString()}</div>
                        </div>
                        <Badge>{r.status}</Badge>
                      </li>
                    ))}
                    {reservations.length===0 && (<li className="ff-small ff-muted">No reservations yet.</li>)}
                  </ul>
                </div>
              </Card>

              <Card className="ff-col-span-3">
                <SectionTitle>Register Visitor</SectionTitle>
                <VisitorForm onSubmit={(form)=>{ const d = Object.fromEntries(new FormData(form)); const visit = { id: uid('VIS'), firstName:d.firstName, lastName:d.lastName, phone:d.phone, email:d.email, date:d.vdate, time:d.vtime, hostSuite:d.suite, code: Math.random().toString(36).slice(2,8).toUpperCase() }; setExpectedVisitors(prev=>[visit, ...prev]); form.reset(); }} />
                <div style={{marginTop:12}}>
                  <h4 className="ff-h4">Expected Visitors</h4>
                  <Table
                    headers={["Name","When","Host Suite","Code"]}
                    rows={expectedVisitors.map(v=> (
                      <tr key={v.id}><td>{v.firstName} {v.lastName}</td><td>{v.date} {v.time}</td><td>{v.hostSuite}</td><td className="ff-mono">{v.code}</td></tr>
                    ))}
                    empty="No visitors yet."
                  />
                </div>
              </Card>
            </div>
          </div>
        );
      }

      function ReserveForm({ resources, onSubmit }){
        const [error, setError] = useState('');
        return (
          <form className="ff-grid ff-gap" onSubmit={(e)=>{ e.preventDefault(); onSubmit(e.currentTarget, setError); }}>
            <div><label className="ff-label">Resource</label><Select name="resource" required>{resources.map(r=> (<option key={r.id} value={r.id}>{r.name}</option>))}</Select></div>
            <div className="ff-grid ff-gap ff-2">
              <div><label className="ff-label">Date</label><Input type="date" name="date" required/></div>
              <div className="ff-grid ff-gap ff-2"><div><label className="ff-label">Start</label><Input type="time" name="start" required/></div><div><label className="ff-label">End</label><Input type="time" name="end" required/></div></div>
            </div>
            {error && <p className="ff-small" style={{color:'#b91c1c'}}>{error}</p>}
            <div style={{textAlign:'right'}}><Button type="submit">Request Slot</Button></div>
          </form>
        );
      }

      function VisitorForm({ onSubmit }){
        return (
          <form className="ff-grid ff-gap ff-3" onSubmit={(e)=>{ e.preventDefault(); onSubmit(e.currentTarget); }}>
            <div><label className="ff-label">First Name</label><Input name="firstName" required/></div>
            <div><label className="ff-label">Last Name</label><Input name="lastName" required/></div>
            <div><label className="ff-label">Phone</label><Input name="phone" type="tel" placeholder="(555) 555-5555"/></div>
            <div className="ff-col-span-2"><label className="ff-label">Email</label><Input name="email" type="email" placeholder="guest@example.com"/></div>
            <div><label className="ff-label">Host Suite</label><Input name="suite" placeholder="1205" required/></div>
            <div><label className="ff-label">Date</label><Input type="date" name="vdate" required/></div>
            <div><label className="ff-label">Time</label><Input type="time" name="vtime" required/></div>
            <div className="ff-col-span-3" style={{textAlign:'right'}}><Button type="submit">Generate Code</Button></div>
          </form>
        );
      }

      // ---------- Lobby ----------
      function LobbyConsole({ expectedVisitors, setExpectedVisitors, checkedIn, setCheckedIn, todaysBookings }){
        const [code, setCode] = useState(''); const [feedback, setFeedback] = useState('');
        function lobbyCheckIn(c){ const idx = expectedVisitors.findIndex(v=> v.code === c.trim().toUpperCase()); if(idx===-1) return false; const list = [...expectedVisitors]; const visit = list.splice(idx,1)[0]; setExpectedVisitors(list); setCheckedIn(prev=>[{...visit, checkedInAt: new Date().toISOString(), badgeId: uid('BADGE')}, ...prev]); return true; }
        function lobbyCheckOut(id){ setCheckedIn(prev=> prev.filter(v=> v.id!==id)); }
        return (
          <div className="ff-grid ff-gap ff-grid-3">
            <Card className="ff-col-span-2">
              <SectionTitle>Visitor Check‑In</SectionTitle>
              <p className="ff-small">Enter code → print badge → notify host.</p>
              <div className="ff-row" style={{gap:8, alignItems:'end', marginTop:8}}>
                <div style={{minWidth:260}}><label className="ff-label">Enter Code</label><Input value={code} onChange={(e)=>setCode(e.target.value)} placeholder="e.g., 7F3KQX"/></div>
                <Button onClick={()=>{ const ok = lobbyCheckIn(code); setFeedback(ok?'Checked in ✓ Badge printed':'Code not found'); if(ok) setCode(''); setTimeout(()=>setFeedback(''), 1600); }}>Check‑In</Button>
              </div>
              {feedback && <p className="ff-small ff-muted" style={{marginTop:6}}>{feedback}</p>}

              <div className="ff-grid ff-gap ff-2" style={{marginTop:12}}>
                <Card>
                  <h4 className="ff-h4">Expected</h4>
                  <Table
                    headers={["Name","Suite","Code"]}
                    rows={expectedVisitors.map(v=> (
                      <tr key={v.id}><td>{v.firstName} {v.lastName}</td><td>{v.hostSuite}</td><td className="ff-mono">{v.code}</td></tr>
                    ))}
                    empty="No expected visitors."
                  />
                </Card>
                <Card>
                  <h4 className="ff-h4">Checked‑In</h4>
                  <Table
                    headers={["Name","Badge",""]}
                    rows={checkedIn.map(v=> (
                      <tr key={v.id}><td>{v.firstName} {v.lastName}</td><td className="ff-mono">{v.badgeId}</td><td style={{textAlign:'right'}}><Button variant="outline" small onClick={()=>lobbyCheckOut(v.id)}>Check‑Out</Button></td></tr>
                    ))}
                    empty="None."
                  />
                </Card>
              </div>
            </Card>
            <Card>
              <SectionTitle>Today’s Reservations</SectionTitle>
              <ul className="ff-list">
                {todaysBookings.length===0 ? (
                  <li className="ff-small ff-muted">No bookings today.</li>
                ) : todaysBookings.map(b=> (
                  <li key={b.id} className="ff-item">
                    <div className="ff-strong">{b.resourceName}</div>
                    <div className="ff-small ff-muted">{new Date(b.startAt).toLocaleTimeString()} – {new Date(b.endAt).toLocaleTimeString()}</div>
                    <div style={{marginTop:4}}><Badge>{b.status}</Badge></div>
                  </li>
                ))}
              </ul>
            </Card>
          </div>
        );
      }

      // ---------- PM ----------
      function PMGlance({ reservations, setReservations, workOrders, setWorkOrders, notices }){
        return (
          <div className="ff-grid ff-gap ff-2">
            <div className="ff-col-span-2"><NoticesCard notices={notices} /></div>
            <Card>
              <SectionTitle>Approvals Queue</SectionTitle>
              <Table
                headers={["Resource","Start","End","Status",""]}
                rows={reservations.filter(r=>r.status!=='Approved').map(r=> (
                  <tr key={r.id}>
                    <td>{r.resourceName}</td>
                    <td>{new Date(r.startAt).toLocaleString()}</td>
                    <td>{new Date(r.endAt).toLocaleString()}</td>
                    <td><Badge>{r.status}</Badge></td>
                    <td style={{textAlign:'right'}}>
                      <Button small onClick={()=>setReservations(prev=>prev.map(x=>x.id===r.id?{...x,status:'Approved'}:x))}>Approve</Button>
                      <Button small variant="outline" onClick={()=>setReservations(prev=>prev.filter(x=>x.id!==r.id))} style={{marginLeft:6}}>Reject</Button>
                    </td>
                  </tr>
                ))}
                empty="No pending requests."
              />
            </Card>
            <Card>
              <SectionTitle>Work Orders (Kanban‑lite)</SectionTitle>
              <Table
                headers={["ID","Category","Priority","Status",""]}
                rows={workOrders.map(w=> (
                  <tr key={w.id}>
                    <td className="ff-mono">{w.id}</td>
                    <td>{w.category}</td>
                    <td><Badge>{w.priority}</Badge></td>
                    <td>{w.status}</td>
                    <td style={{textAlign:'right'}}>
                      <Button small variant="outline" onClick={()=>{ const flow=["New","Acknowledged","In Progress","On Hold","Completed","Closed"]; const next=flow[(flow.indexOf(w.status)+1)%flow.length]; setWorkOrders(prev=>prev.map(x=>x.id===w.id?{...x,status:next}:x)); }}>Advance</Button>
                    </td>
                  </tr>
                ))}
                empty="No work orders yet."
              />
            </Card>
          </div>
        );
      }

      // ---------- Engineer ----------
      function EngineerApp({ workOrders, setWorkOrders, notices }){
        return (
          <div className="ff-grid ff-gap">
            <NoticesCard notices={notices} />
            <Card>
              <SectionTitle>My Assigned Work Orders</SectionTitle>
              <Table
                headers={["ID","Category","Priority","Status",""]}
                rows={workOrders.map(w=> (
                  <tr key={w.id}>
                    <td className="ff-mono">{w.id}</td>
                    <td>{w.category}</td>
                    <td><Badge>{w.priority}</Badge></td>
                    <td>{w.status}</td>
                    <td style={{textAlign:'right'}}>
                      <Button small variant="outline" onClick={()=>{ const flow=["New","Acknowledged","In Progress","On Hold","Completed","Closed"]; const next=flow[(flow.indexOf(w.status)+1)%flow.length]; setWorkOrders(prev=>prev.map(x=>x.id===w.id?{...x,status:next}:x)); }}>Advance</Button>
                    </td>
                  </tr>
                ))}
                empty="No assigned work orders."
              />
            </Card>
          </div>
        );
      }

      // ---------- Notices ----------
      function NoticesCard({ notices }){
        if(!notices || notices.length===0) return null;
        return (
          <Card>
            <h4 className="ff-h4">Building Notices</h4>
            <ul className="ff-list">
              {notices.map(n=> (
                <li key={n.id} className="ff-item">
                  <div className="ff-strong">{n.title}</div>
                  <div className="ff-small ff-muted">{n.body}</div>
                </li>
              ))}
            </ul>
          </Card>
        );
      }

      // ---------- Styles ----------
      const css = `
      :root{
        --brand-primary:#0E2A47; --brand-accent:#23C15C; --brand-light:#F3F7FB;
        --text:#0f172a; --muted:#64748b; --shadow:0 8px 24px rgba(14,42,71,.08);
        --radius:16px; --ring:0 0 0 3px rgba(35,193,92,.15); --border:#e5e7eb;
        --fs-1: clamp(1.75rem, 1.1rem + 2.2vw, 2.4rem); --fs-2: clamp(1.25rem, 1rem + 1.2vw, 1.5rem);
      }
      *{box-sizing:border-box} html,body,#root{height:100%}
      .ff-root{min-height:100%; background:linear-gradient(180deg, var(--brand-light), #fff); color:var(--text); font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial;}
      .ff-container{max-width:1100px; margin:0 auto; padding:16px clamp(16px,2vw,24px) 32px}
      .ff-row{display:flex}
      .ff-between{justify-content:space-between}
      .ff-nav{position:sticky; top:0; z-index:10; background:rgba(255,255,255,.85); backdrop-filter: blur(8px); border-bottom:1px solid var(--border)}
      .ff-nav-inner{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px clamp(12px,2vw,24px)}
      .ff-brand{display:flex; align-items:center; gap:8px; background:none; border:0; cursor:pointer}
      .ff-nav-links{display:flex; gap:16px}
      .ff-link{background:none; border:0; cursor:pointer; font-size:.95rem}
      .ff-auth-ctas,.ff-session{display:flex; align-items:center; gap:8px}
      .ff-small{font-size:.875rem}
      .ff-burger{display:none; background:none; border:0; font-size:20px}
      .ff-mobile-menu{display:none; border-bottom:1px solid var(--border); padding:10px 16px}
      .ff-mobile-menu.open{display:block}
      @media(max-width:900px){ .ff-nav-links,.ff-auth-ctas,.ff-session{display:none} .ff-burger{display:block} }

      .ff-hero{border-radius:20px; padding:24px; text-align:center; color:#fff; background: linear-gradient(90deg, var(--brand-primary) 0%, var(--brand-primary) 60%, var(--brand-accent) 100%); box-shadow:var(--shadow)}
      .ff-h1{font-size:var(--fs-1); margin:.25rem 0 .25rem}
      .ff-h3{font-size:var(--fs-2); margin:.25rem 0 .25rem}
      .ff-h4{font-size:1.05rem; margin:0 0 .25rem}

      .ff-card{border:1px solid var(--border); background:#fff; border-radius:var(--radius); box-shadow:0 1px 2px rgba(0,0,0,.03); padding:16px}
      .ff-item{border:1px solid #f1f5f9; padding:10px; border-radius:12px}

      .ff-grid{display:grid}
      .ff-gap{gap:12px}
      .ff-2{grid-template-columns:1fr 1fr}
      .ff-3{grid-template-columns:1fr 1fr 1fr}
      .ff-grid-3{grid-template-columns:2fr 1fr 1fr}
      .ff-col-span-2{grid-column:span 2}
      .ff-col-span-3{grid-column:span 3}
      @media(max-width:900px){ .ff-grid-3{grid-template-columns:1fr} .ff-col-span-2,.ff-col-span-3{grid-column:span 1} }

      .ff-btn{border:1px solid var(--border); background:#fff; padding:10px 14px; border-radius:12px; font-weight:600; cursor:pointer}
      .ff-btn:hover{background:#f9fafb}
      .ff-btn:focus{outline:none; box-shadow:var(--ring)}
      .ff-btn-primary{background:var(--brand-accent); border-color:transparent; color:#fff}
      .ff-btn-outline{background:#fff}
      .ff-btn-sm{padding:6px 10px; font-size:.85rem}

      .ff-input{width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:12px; font:inherit}
      .ff-input:focus{outline:none; box-shadow:var(--ring)}
      .ff-label{display:block; font-size:.9rem; color:#475569; margin-bottom:4px}
      .ff-badge{display:inline-block; padding:3px 8px; border-radius:999px; background:#eef2ff; border:1px solid #e5e7eb; font-size:.8rem}

      .ff-table-wrap{overflow:auto; border:1px solid #f1f5f9; border-radius:12px}
      .ff-table{width:100%; border-collapse:collapse; min-width:600px}
      .ff-table th,.ff-table td{border-bottom:1px solid #f1f5f9; padding:10px; text-align:left; font-size:.95rem}
      .ff-empty{padding:12px; text-align:center; color:var(--muted)}
      .ff-mono{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono"; font-size:.85rem}
      .ff-muted{color: var(--muted)}

      .ff-list{margin:0; padding-left:16px; display:flex; flex-direction:column; gap:8px}
      .ff-strong{font-weight:600}

      .ff-footer{border-top:1px solid var(--border); padding:16px clamp(12px,2vw,24px); color:var(--muted); font-size:.9rem; display:flex; justify-content:space-between; align-items:center; gap:8px; flex-wrap:wrap}
      `;

      // Mount app
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<FacilityFuzApp />);
    </script>
  </body>
</html>
"""
with open("/mnt/data/facilityfuz_index.html", "w", encoding="utf-8") as f:
    f.write(html)

"/mnt/data/facilityfuz_index.html"
